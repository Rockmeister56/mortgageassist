<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Botemia ¬∑ Sales Procedure System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(145deg, #0a1428 0%, #0f1a35 100%);
            color: white;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo-icon {
            font-size: 2.8rem;
            filter: drop-shadow(0 0 10px #4a90e2);
        }

        .logo-area h1 {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ffffff, #90caf9);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .badge {
            background: rgba(74, 144, 226, 0.15);
            border: 1px solid #4a90e2;
            color: #90caf9;
            padding: 8px 20px;
            border-radius: 40px;
            font-weight: 600;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Market Selector */
        .market-selector {
            background: rgba(18, 28, 46, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(74, 144, 226, 0.2);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .selector-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .market-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .market-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 16px 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .market-card:hover {
            border-color: #4a90e2;
            transform: translateY(-2px);
            background: rgba(74, 144, 226, 0.1);
        }

        .market-card.selected {
            border-color: #4a90e2;
            background: rgba(74, 144, 226, 0.15);
            box-shadow: 0 0 20px rgba(74, 144, 226, 0.3);
        }

        .market-icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .market-name {
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .market-value {
            font-size: 0.7rem;
            color: #90caf9;
            font-weight: 600;
            text-transform: uppercase;
        }

        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 28px;
            margin-bottom: 30px;
        }

        @media (max-width: 1000px) {
            .main-grid { grid-template-columns: 1fr; }
        }

        /* Procedure Panel */
        .procedure-panel {
            background: rgba(18, 28, 46, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(74, 144, 226, 0.2);
            border-radius: 24px;
            padding: 28px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(74, 144, 226, 0.2);
        }

        .panel-header h2 {
            font-size: 1.4rem;
            font-weight: 600;
            color: #90caf9;
        }

        .procedure-tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #4a90e2;
            color: #90caf9;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            flex: 1;
            min-width: 120px;
        }

        .tab-btn.active {
            background: #4a90e2;
            color: white;
            border-color: #4a90e2;
            box-shadow: 0 0 15px rgba(74, 144, 226, 0.5);
        }

        .procedure-content {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 24px;
            min-height: 500px;
            max-height: 600px;
            overflow-y: auto;
            border: 1px solid rgba(74, 144, 226, 0.1);
        }

        .step-list {
            list-style: none;
        }

        .step-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(74, 144, 226, 0.1);
        }

        .step-number {
            display: inline-block;
            background: #4a90e2;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            font-weight: 700;
            margin-right: 12px;
        }

        .step-title {
            font-weight: 700;
            color: #90caf9;
            margin-bottom: 8px;
        }

        .template-box {
            background: rgba(74, 144, 226, 0.1);
            border-left: 4px solid #4a90e2;
            padding: 16px;
            margin: 16px 0;
            border-radius: 8px;
            font-family: monospace;
            white-space: pre-wrap;
            font-size: 0.9rem;
        }

        .copy-btn {
            background: rgba(74, 144, 226, 0.2);
            border: 1px solid #4a90e2;
            color: #90caf9;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-top: 8px;
        }

        .copy-btn:hover {
            background: #4a90e2;
            color: white;
        }

        /* Templates Panel */
        .templates-panel {
            background: rgba(18, 28, 46, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(74, 144, 226, 0.2);
            border-radius: 24px;
            padding: 28px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .template-category {
            margin-bottom: 24px;
        }

        .template-category h3 {
            color: #90caf9;
            margin-bottom: 12px;
            font-size: 1.1rem;
            border-bottom: 1px solid rgba(74, 144, 226, 0.2);
            padding-bottom: 8px;
        }

        .template-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(74, 144, 226, 0.2);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .template-card:hover {
            border-color: #4a90e2;
            background: rgba(74, 144, 226, 0.1);
        }

        .template-card.active {
            border: 2px solid #4a90e2;
            background: rgba(74, 144, 226, 0.15);
        }

        .template-preview {
            font-size: 0.85rem;
            color: rgba(255,255,255,0.7);
            margin: 8px 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Tracker */
        .tracker-panel {
            background: rgba(18, 28, 46, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(74, 144, 226, 0.2);
            border-radius: 24px;
            padding: 28px;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .tracker-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .tracker-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(74, 144, 226, 0.2);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .tracker-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #90caf9;
            margin: 10px 0;
        }

        .tracker-label {
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
        }

        .tracker-btn {
            background: #4a90e2;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 12px;
            width: 100%;
            transition: all 0.2s;
        }

        .tracker-btn:hover {
            background: #6ba5e8;
            box-shadow: 0 0 15px rgba(74, 144, 226, 0.5);
        }

        .footer {
            margin-top: 40px;
            color: rgba(255,255,255,0.4);
            font-size: 0.8rem;
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(74, 144, 226, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo-area">
                <div class="logo-icon">‚ö°</div>
                <h1>Sales Procedure System</h1>
            </div>
            <div class="badge">
                <span>üèÜ PAIN POINT FOCUSED</span>
                <span style="margin-left: 8px;">v3.0</span>
            </div>
        </div>

        <!-- Market Selector -->
        <div class="market-selector">
            <div class="selector-title">
                <span style="font-size: 1.8rem;">üéØ</span>
                <h2 style="color: white;">Select Your Market</h2>
            </div>
            <div class="market-grid" id="marketGrid"></div>
        </div>

        <!-- Main Grid -->
        <div class="main-grid">
            <!-- Left: Procedures -->
            <div class="procedure-panel">
                <div class="panel-header">
                    <span style="font-size: 1.8rem;">üìã</span>
                    <h2>Procedures</h2>
                </div>

                <div class="procedure-tabs" id="procedureTabs">
                    <button class="tab-btn active" data-tab="facebook">üìò Facebook Groups</button>
                    <button class="tab-btn" data-tab="linkedin">üîó LinkedIn</button>
                    <button class="tab-btn" data-tab="followup">üìû Follow-Up</button>
                </div>

                <div class="procedure-content" id="procedureContent"></div>
            </div>

            <!-- Right: Templates -->
            <div class="templates-panel">
                <div class="panel-header">
                    <span style="font-size: 1.8rem;">üìù</span>
                    <h2>Pain Point Templates</h2>
                </div>

                <div id="templatesContainer"></div>
            </div>
        </div>

        <!-- Tracker -->
        <div class="tracker-panel">
            <div class="panel-header">
                <span style="font-size: 1.8rem;">üìä</span>
                <h2>Daily Activity Tracker</h2>
            </div>

            <div class="tracker-grid" id="trackerGrid">
                <div class="tracker-card">
                    <div>üë• Facebook</div>
                    <div class="tracker-number" id="fbConnections">0</div>
                    <div class="tracker-label">New Connections</div>
                    <button class="tracker-btn" data-tracker="fb">+1</button>
                </div>
                <div class="tracker-card">
                    <div>üíº LinkedIn</div>
                    <div class="tracker-number" id="liConnections">0</div>
                    <div class="tracker-label">New Connections</div>
                    <button class="tracker-btn" data-tracker="li">+1</button>
                </div>
                <div class="tracker-card">
                    <div>üí¨ Conversations</div>
                    <div class="tracker-number" id="conversations">0</div>
                    <div class="tracker-label">Started</div>
                    <button class="tracker-btn" data-tracker="convos">+1</button>
                </div>
                <div class="tracker-card">
                    <div>üìÖ Consultations</div>
                    <div class="tracker-number" id="consultations">0</div>
                    <div class="tracker-label">Booked</div>
                    <button class="tracker-btn" data-tracker="consults">+1</button>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>‚ö° High-Value Industries ¬∑ Pain Point Focused ¬∑ Legal ¬∑ Medical ¬∑ Personal Injury ¬∑ Tax ¬∑ Dental ¬∑ SaaS</p>
        </div>
    </div>

    <script>
        (function() {
            // ============================================
            // MARKET DATA - SINGLE DECLARATION
            // ============================================
            
            const marketData = {
                legal: {
                    name: 'Legal',
                    icon: '‚öñÔ∏è',
                    value: 'HIGH TICKET',
                    painPoints: [
                        { pain: 'Case value too low', trigger: 'settlement offer', response: 'Most attorneys offer free case evaluation - worth getting a second opinion.' },
                        { pain: 'Can\'t afford attorney', trigger: 'legal fees', response: 'Many firms work on contingency - you pay nothing unless you win.' },
                        { pain: 'Statute of limitations', trigger: 'running out of time', response: 'Time limits vary by case type - don\'t wait to explore options.' },
                        { pain: 'Insurance denial', trigger: 'claim denied', response: 'Insurance companies often deny valid claims - legal help can fight back.' }
                    ],
                    keywords: ['attorney', 'lawsuit', 'settlement', 'legal advice', 'case evaluation'],
                    groups: ['legal advice', 'accident victims', 'class action lawsuits']
                },
                personalInjury: {
                    name: 'Personal Injury',
                    icon: 'üöë',
                    value: 'HIGH TICKET',
                    painPoints: [
                        { pain: 'Mounting medical bills', trigger: 'hospital bills', response: 'Medical bills shouldn\'t bankrupt you - compensation can cover all medical costs.' },
                        { pain: 'Lost wages', trigger: 'can\'t work', response: 'Lost income from injuries can be claimed in your settlement.' },
                        { pain: 'Insurance lowball', trigger: 'settlement offer too low', response: 'First offers are always low - attorneys know how to negotiate.' },
                        { pain: 'Pain and suffering', trigger: 'emotional distress', response: 'You deserve compensation for more than just medical bills.' }
                    ],
                    keywords: ['accident', 'injury', 'car crash', 'slip and fall', 'medical malpractice'],
                    groups: ['car accident support', 'injury recovery', 'accident victims']
                },
                taxResolution: {
                    name: 'Tax Resolution',
                    icon: 'üìä',
                    value: 'HIGH TICKET',
                    painPoints: [
                        { pain: 'IRS garnishing wages', trigger: 'wage garnishment', response: 'IRS wage levies can be stopped with proper representation.' },
                        { pain: 'Can\'t pay tax debt', trigger: 'owe taxes', response: 'Offer in Compromise can settle tax debt for pennies on the dollar.' },
                        { pain: 'Audit notice', trigger: 'audit letter', response: 'Don\'t face IRS audits alone - professionals can represent you.' },
                        { pain: 'Bank account levied', trigger: 'bank account frozen', response: 'IRS bank levies can be released - time is critical.' }
                    ],
                    keywords: ['IRS', 'tax debt', 'audit', 'back taxes', 'tax lien'],
                    groups: ['tax help', 'small business taxes', 'IRS problems']
                },
                dental: {
                    name: 'Dental',
                    icon: 'ü¶∑',
                    value: 'RECURRING',
                    painPoints: [
                        { pain: 'Dental anxiety', trigger: 'afraid of dentist', response: 'Sedation dentistry makes treatment comfortable and stress-free.' },
                        { pain: 'Cost of implants', trigger: 'too expensive', response: 'Many offices offer payment plans and financing options.' },
                        { pain: 'Missing teeth', trigger: 'embarrassed to smile', response: 'Modern implants look and feel exactly like natural teeth.' },
                        { pain: 'Insurance doesn\'t cover', trigger: 'no coverage', response: 'Dental savings plans can save 20-50% on procedures.' }
                    ],
                    keywords: ['dentist', 'dental implant', 'cosmetic dentistry', 'teeth whitening', 'braces'],
                    groups: ['dental health', 'cosmetic dentistry', 'implants support']
                },
                saas: {
                    name: 'SaaS',
                    icon: '‚òÅÔ∏è',
                    value: 'HIGH AD SPEND',
                    painPoints: [
                        { pain: 'Wasting time on manual tasks', trigger: 'too much manual work', response: 'Automation saves hours every day - focus on growth, not data entry.' },
                        { pain: 'Can\'t scale operations', trigger: 'hitting ceiling', response: 'The right software grows with you - no more switching platforms.' },
                        { pain: 'Poor team collaboration', trigger: 'communication issues', response: 'Centralized platforms keep everyone aligned and productive.' },
                        { pain: 'No visibility into metrics', trigger: 'can\'t track performance', response: 'Real-time analytics show you exactly where to improve.' }
                    ],
                    keywords: ['software', 'CRM', 'automation', 'analytics', 'platform'],
                    groups: ['SaaS founders', 'software sales', 'tech startups']
                },
                mortgage: {
                    name: 'Mortgage',
                    icon: 'üè†',
                    value: 'HIGH VOLUME',
                    painPoints: [
                        { pain: 'Bad credit', trigger: 'credit issues', response: 'FHA loans allow scores as low as 580 - you have options.' },
                        { pain: 'Self-employed', trigger: '1099 income', response: 'Bank statement loans use your deposits, not tax returns.' },
                        { pain: 'No down payment', trigger: 'can\'t save', response: 'USDA and VA loans offer 0% down options.' },
                        { pain: 'High interest rates', trigger: 'rates too high', response: 'Shopping multiple lenders can save thousands over the loan.' }
                    ],
                    keywords: ['rates', 'pre-approval', 'refinance', 'first-time buyer', 'credit score'],
                    groups: ['home buyers', 'real estate investors', 'first-time home buyers']
                },
                insurance: {
                    name: 'Insurance',
                    icon: 'üõ°Ô∏è',
                    value: 'PROTECTION',
                    painPoints: [
                        { pain: 'Rates too high', trigger: 'expensive premiums', response: 'Shopping around annually can save 30-40% on coverage.' },
                        { pain: 'Family unprotected', trigger: 'worry about family', response: 'Life insurance ensures your family is taken care of no matter what.' },
                        { pain: 'Claim denied', trigger: 'claim rejected', response: 'Don\'t accept denial - many claims are approved on appeal.' },
                        { pain: 'Confused by options', trigger: 'too many choices', response: 'An independent agent can compare options and find your best fit.' }
                    ],
                    keywords: ['coverage', 'premiums', 'life insurance', 'health insurance', 'protect'],
                    groups: ['insurance professionals', 'financial planning', 'family protection']
                },
                realestate: {
                    name: 'Real Estate',
                    icon: 'üè°',
                    value: 'INVESTMENT',
                    painPoints: [
                        { pain: 'Can\'t find right home', trigger: 'no inventory', response: 'Off-market properties exist - the right agent has connections.' },
                        { pain: 'Worried about overpaying', trigger: 'market too hot', response: 'CMA reports show exactly what homes are worth in today\'s market.' },
                        { pain: 'Investment property cash flow', trigger: 'negative cash flow', response: 'Analysis tools ensure you buy properties that actually make money.' },
                        { pain: 'Selling for top dollar', trigger: 'want highest price', response: 'Staging and marketing make a huge difference in final sale price.' }
                    ],
                    keywords: ['buying', 'selling', 'market', 'home', 'investment'],
                    groups: ['real estate investors', 'home sellers', 'first-time buyers']
                },
                coaching: {
                    name: 'Business Coaching',
                    icon: 'üöÄ',
                    value: 'SCALING',
                    painPoints: [
                        { pain: 'Not enough clients', trigger: 'slow growth', response: 'Proven systems consistently bring in qualified leads.' },
                        { pain: 'Hitting revenue plateau', trigger: 'stuck at same income', response: 'New strategies break through ceilings and unlock growth.' },
                        { pain: 'Overwhelmed and burned out', trigger: 'working too much', response: 'Systems and delegation free up your time and energy.' },
                        { pain: 'Unclear next steps', trigger: 'don\'t know what\'s next', response: 'Strategic planning clarifies exactly what to focus on.' }
                    ],
                    keywords: ['growth', 'marketing', 'leads', 'sales', 'business'],
                    groups: ['business owners', 'entrepreneurs', 'startup founders']
                },
                health: {
                    name: 'Health & Wellness',
                    icon: 'üåø',
                    value: 'WELLNESS',
                    painPoints: [
                        { pain: 'No energy', trigger: 'always tired', response: 'Targeted nutrition and supplements restore natural energy.' },
                        { pain: 'Can\'t lose weight', trigger: 'tried everything', response: 'Personalized plans work with your body, not against it.' },
                        { pain: 'Chronic stress', trigger: 'always stressed', response: 'Natural approaches reduce stress without medication.' },
                        { pain: 'Digestive issues', trigger: 'stomach problems', response: 'Gut health affects everything - the right protocol transforms wellness.' }
                    ],
                    keywords: ['wellness', 'health', 'fitness', 'nutrition', 'supplements'],
                    groups: ['healthy living', 'fitness motivation', 'nutrition tips']
                }
            };

            // ============================================
            // PROCEDURE DATA - SINGLE DECLARATION
            // ============================================
            
            const procedureData = {
                facebook: {
                    title: 'üìò Facebook Groups Procedure',
                    steps: [
                        {
                            title: 'Find Your Groups',
                            description: 'Search for 3-5 groups where your ideal clients hang out.',
                            template: 'Search: [market keywords] + "support", "community", "advice"'
                        },
                        {
                            title: 'Audit Groups',
                            description: 'Evaluate each group before committing.',
                            template: 'Look for: 500+ members, active daily, engaged admin, real conversations'
                        },
                        {
                            title: 'Connect with Admin',
                            description: 'Message the admin first. Build relationship.',
                            template: 'Hi [Admin]! Just joined [Group] - love what you\'ve built here. Excited to be part of the community!'
                        },
                        {
                            title: 'Introduction Post',
                            description: 'Genuine intro. No pitching. Focus on connection.',
                            template: 'Hi everyone! üëã I\'m [Name]. I help [ideal clients] with [result]. Looking forward to connecting with you all!'
                        },
                        {
                            title: 'Daily Engagement',
                            description: '15 mins daily: comment, reply, connect.',
                            template: 'Comment on 5 posts, reply to comments, accept friend requests.'
                        },
                        {
                            title: 'Identify Pain Points',
                            description: 'Listen for their specific struggles.',
                            template: 'When someone mentions [pain point], engage genuinely and offer value.'
                        },
                        {
                            title: 'Send Video',
                            description: 'Address their specific pain point in a short video.',
                            template: 'Hey [Name]! Heard you mention [pain point]. Made a quick video about that: [Link] Hope it helps!'
                        },
                        {
                            title: 'Offer Consultation',
                            description: 'When they engage, offer to help further.',
                            template: 'Glad the video helped! Would you be open to a quick chat about your situation? No pressure - just want to help.'
                        }
                    ]
                },
                linkedin: {
                    title: 'üîó LinkedIn Procedure',
                    steps: [
                        {
                            title: 'Optimize Profile',
                            description: 'Your profile is your storefront.',
                            template: 'Headline: I help [ideal clients] with [result]\nAbout: First 3 lines hook them\nFeatured: Pin best content'
                        },
                        {
                            title: 'Find Ideal Clients',
                            description: 'Search for your target audience.',
                            template: 'Search: [Job titles] + [Industry] + [Location]'
                        },
                        {
                            title: 'Send Connection Request',
                            description: 'Personalize every request.',
                            template: 'Hi [Name], impressed by your work in [industry]. Would love to connect!'
                        },
                        {
                            title: 'Engage With Content',
                            description: 'Like and comment for 3-5 days.',
                            template: 'Great insight on [topic]! [Add thoughtful question]'
                        },
                        {
                            title: 'Send Value Video',
                            description: 'Address their industry challenges.',
                            template: 'Hi [Name]! Been following your content. Made a quick video about [topic] you might find valuable: [Link]'
                        },
                        {
                            title: 'Nurture Conversation',
                            description: 'Ask about their challenges.',
                            template: 'What\'s your biggest challenge with [topic] right now? Always curious to learn from others.'
                        },
                        {
                            title: 'Offer Strategy Call',
                            description: 'When trust is built, offer help.',
                            template: 'Based on what you shared, I think a 15-min chat could be valuable. Free strategy call - when works?'
                        }
                    ]
                },
                followup: {
                    title: 'üìû Follow-Up Procedure',
                    steps: [
                        {
                            title: 'Day 1 - Thank You',
                            description: 'Warm thank you after connecting.',
                            template: 'Hey [Name]! Great connecting about [topic]. Looking forward to staying in touch!'
                        },
                        {
                            title: 'Day 3 - Value Share',
                            description: 'Share something relevant to their pain point.',
                            template: 'Saw this about [pain point] and thought of you: [Link] Hope it\'s helpful!'
                        },
                        {
                            title: 'Day 7 - Check In',
                            description: 'Light check-in, no agenda.',
                            template: 'Hey [Name]! How\'s [their situation] coming along? Hope you\'re making progress!'
                        },
                        {
                            title: 'Day 14 - Video Follow-Up',
                            description: 'Short video addressing their specific pain.',
                            template: 'Quick video about [pain point] - thought of you. [Link] No response needed!'
                        },
                        {
                            title: 'Day 21 - Offer Call',
                            description: 'If engaged, offer consultation.',
                            template: 'Been thinking about your situation. Open to a quick strategy call? Happy to share ideas.'
                        },
                        {
                            title: 'Day 30 - Final Touch',
                            description: 'One last check before nurture mode.',
                            template: 'Last check-in! If you ever want to chat about [topic], I\'m always here for you.'
                        },
                        {
                            title: 'Ongoing Nurture',
                            description: 'Stay on radar without being pushy.',
                            template: 'Weekly: engage with posts\nMonthly: share value\nQuarterly: personal check'
                        }
                    ]
                }
            };

            // ============================================
            // TEMPLATE DATA - SINGLE DECLARATION
            // ============================================
            
            const templateData = {
                painPoint: [
                    { name: 'Initial Pain Point Response', content: 'I hear you on [pain point]. Many of my clients felt the same way. The key is [solution approach]. Happy to share more if you\'re interested!' },
                    { name: 'Deep Dive Question', content: 'When you say [pain point], what\'s the biggest part of that struggle for you? Trying to understand better so I can help.' },
                    { name: 'Empathy + Solution', content: 'That sounds really frustrating. [Pain point] is tough because [reason]. I\'ve helped others navigate this by [approach].' }
                ],
                video: [
                    { name: 'Pain Point Video', content: 'Quick video about [pain point] and how to handle it. [Link] Hope this speaks to your situation!' },
                    { name: 'Case Study Video', content: 'Here\'s how a client overcame [pain point] using [solution]. [Link] Thought you might find it encouraging!' },
                    { name: 'Educational Video', content: 'Breaking down [pain point] and what actually works. [Link] No pitch - just wanted to share value!' }
                ],
                consultation: [
                    { name: 'Soft Offer', content: 'Based on your [pain point], I think a quick chat could help clarify things. No pitch, just want to share what\'s worked for others.' },
                    { name: 'Direct Offer', content: 'Open to a 15-min consultation about [pain point]? I can share some strategies that might help. No obligation!' },
                    { name: 'Follow-Up Offer', content: 'Still thinking about your situation with [pain point]. If you want to explore solutions, I\'m here. Free strategy call available.' }
                ],
                nurture: [
                    { name: 'Value Share', content: 'Came across this resource about [pain point] - thought of you! [Link] Hope it helps!' },
                    { name: 'Check-In', content: 'Hey! Just checking in - how are things going with [pain point]? Hope progress is happening!' },
                    { name: 'Encouragement', content: 'I know [pain point] can feel overwhelming, but you\'ve got this! Let me know if you ever want to chat about strategies.' }
                ]
            };

            // ============================================
            // STATE MANAGEMENT - SINGLE DECLARATIONS
            // ============================================
            
            let currentMarket = 'legal';
            let currentTab = 'facebook';
            let activeTemplate = null;
            
            let dailyTracker = {
                fb: 0,
                li: 0,
                convos: 0,
                consults: 0
            };

            // ============================================
            // INITIALIZATION
            // ============================================
            
            function init() {
                renderMarkets();
                renderProcedures();
                renderTemplates();
                loadTracker();
                attachEventListeners();
            }

            function renderMarkets() {
                const grid = document.getElementById('marketGrid');
                grid.innerHTML = Object.entries(marketData).map(([key, market]) => `
                    <div class="market-card ${currentMarket === key ? 'selected' : ''}" data-market="${key}">
                        <div class="market-icon">${market.icon}</div>
                        <div class="market-name">${market.name}</div>
                        <div class="market-value">${market.value}</div>
                    </div>
                `).join('');
            }

            function renderProcedures() {
                const procedure = procedureData[currentTab];
                const market = marketData[currentMarket];
                
                let html = `<h3 style="margin-bottom: 20px; color: #90caf9;">${procedure.title}</h3>`;
                
                // Market context bar
                html += `<div style="margin-bottom: 20px; padding: 12px; background: rgba(74,144,226,0.1); border-radius: 8px; border-left: 4px solid #4a90e2;">
                    <strong>üéØ Market:</strong> ${market.icon} ${market.name} ¬∑ ${market.value}<br>
                    <strong>üîë Keywords:</strong> ${market.keywords.slice(0, 4).join(' ¬∑ ')}<br>
                    <strong>üî• Pain Points:</strong> ${market.painPoints.map(p => p.pain).slice(0, 3).join(' ¬∑ ')}
                </div>`;
                
                html += '<div class="step-list">';
                
                procedure.steps.forEach((step, index) => {
                    html += `
                        <div class="step-item">
                            <div class="step-title">
                                <span class="step-number">${index + 1}</span>
                                ${step.title}
                            </div>
                            <p style="margin-bottom: 12px; color: rgba(255,255,255,0.8);">${step.description}</p>
                            <div class="template-box">
                                ${step.template}
                            </div>
                            <button class="copy-btn" data-copy="${step.template.replace(/"/g, '&quot;')}">
                                üìã Copy Template
                            </button>
                        </div>
                    `;
                });
                
                html += '</div>';
                
                document.getElementById('procedureContent').innerHTML = html;
            }

            function renderTemplates() {
                const market = marketData[currentMarket];
                const container = document.getElementById('templatesContainer');
                
                let html = '<div class="template-category"><h3>üî• Market Pain Points</h3>';
                
                // Show market-specific pain points first
                market.painPoints.forEach((pp, index) => {
                    html += `
                        <div class="template-card" data-template="pain-${index}">
                            <div style="font-weight: 700; margin-bottom: 4px; color: #90caf9;">${pp.pain}</div>
                            <div class="template-preview">${pp.response.substring(0, 70)}...</div>
                            <button class="copy-btn" data-copy="${pp.response.replace(/"/g, '&quot;')}">
                                üìã Copy Response
                            </button>
                        </div>
                    `;
                });
                
                html += '</div>';
                
                // Add general template categories
                for (const [category, templates] of Object.entries(templateData)) {
                    html += `<div class="template-category">
                        <h3>${category === 'painPoint' ? 'üéØ General Pain Point' : 
                               category === 'video' ? 'üé• Video Scripts' : 
                               category === 'consultation' ? 'üìû Consultation' : 'üå± Nurture'}</h3>`;
                    
                    templates.forEach((template, index) => {
                        html += `
                            <div class="template-card" data-template="${category}-${index}">
                                <div style="font-weight: 700; margin-bottom: 4px; color: #90caf9;">${template.name}</div>
                                <div class="template-preview">${template.content.substring(0, 70)}...</div>
                                <button class="copy-btn" data-copy="${template.content.replace(/"/g, '&quot;')}">
                                    üìã Copy
                                </button>
                            </div>
                        `;
                    });
                    
                    html += '</div>';
                }
                
                container.innerHTML = html;
            }

            function loadTracker() {
                const saved = localStorage.getItem('salesTracker');
                if (saved) {
                    try {
                        dailyTracker = JSON.parse(saved);
                    } catch(e) {
                        console.log('Error loading tracker');
                    }
                }
                updateTrackerDisplay();
            }

            function saveTracker() {
                localStorage.setItem('salesTracker', JSON.stringify(dailyTracker));
            }

            function updateTrackerDisplay() {
                document.getElementById('fbConnections').textContent = dailyTracker.fb;
                document.getElementById('liConnections').textContent = dailyTracker.li;
                document.getElementById('conversations').textContent = dailyTracker.convos;
                document.getElementById('consultations').textContent = dailyTracker.consults;
            }

            function attachEventListeners() {
                // Market selection
                document.querySelectorAll('.market-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        const market = card.dataset.market;
                        if (market) {
                            currentMarket = market;
                            renderMarkets();
                            renderProcedures();
                            renderTemplates();
                        }
                    });
                });

                // Tab switching
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        
                        const tab = btn.dataset.tab;
                        if (tab) {
                            currentTab = tab;
                            renderProcedures();
                        }
                    });
                });

                // Copy buttons (event delegation)
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('copy-btn')) {
                        const text = e.target.dataset.copy;
                        if (text) {
                            navigator.clipboard.writeText(text).then(() => {
                                alert('‚úÖ Copied to clipboard!');
                            });
                        }
                    }
                });

                // Tracker buttons
                document.querySelectorAll('[data-tracker]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const type = btn.dataset.tracker;
                        if (type && dailyTracker.hasOwnProperty(type)) {
                            dailyTracker[type]++;
                            updateTrackerDisplay();
                            saveTracker();
                        }
                    });
                });
            }

            // Start everything
            document.addEventListener('DOMContentLoaded', init);
        })();
    </script>
</body>
</html>